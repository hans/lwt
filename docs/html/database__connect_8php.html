<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Learning with Texts - Fork: inc/database_connect.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="lwt_icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">Learning with Texts - Fork<span id="projectnumber">&#160;2.1.0-fork-RC1</span>
   </div>
   <div id="projectbrief">Learn foreign languages with texts</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bfccd401955b95cf8c75461437045ac0.html">inc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">database_connect.php File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Connects to the database and check its state.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af092366f1596cc99b3552185b173a53d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#af092366f1596cc99b3552185b173a53d">do_mysqli_query</a> ($sql)</td></tr>
<tr class="separator:af092366f1596cc99b3552185b173a53d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba5ba1657b74c879fc17dd6f13c6bce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#acba5ba1657b74c879fc17dd6f13c6bce">runsql</a> ($sql, $m, $sqlerrdie=true)</td></tr>
<tr class="separator:acba5ba1657b74c879fc17dd6f13c6bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c4a52b3d9b10360dce64ad0464bfad5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#a9c4a52b3d9b10360dce64ad0464bfad5">get_first_value</a> ($sql)</td></tr>
<tr class="separator:a9c4a52b3d9b10360dce64ad0464bfad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc5e56bdc4497573811854675f1e510e"><td class="memItemLeft" align="right" valign="top"><a id="adc5e56bdc4497573811854675f1e510e" name="adc5e56bdc4497573811854675f1e510e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>prepare_textdata</b> ($s)</td></tr>
<tr class="separator:adc5e56bdc4497573811854675f1e510e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb1d020397c6111d6c54a57629ebef9b"><td class="memItemLeft" align="right" valign="top"><a id="abb1d020397c6111d6c54a57629ebef9b" name="abb1d020397c6111d6c54a57629ebef9b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>prepare_textdata_js</b> ($s)</td></tr>
<tr class="separator:abb1d020397c6111d6c54a57629ebef9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8644cebbae39e02a6dfed79816201271"><td class="memItemLeft" align="right" valign="top"><a id="a8644cebbae39e02a6dfed79816201271" name="a8644cebbae39e02a6dfed79816201271"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>convert_string_to_sqlsyntax</b> ($data)</td></tr>
<tr class="separator:a8644cebbae39e02a6dfed79816201271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5964c3b4acf8986010b4b45d63a3332d"><td class="memItemLeft" align="right" valign="top"><a id="a5964c3b4acf8986010b4b45d63a3332d" name="a5964c3b4acf8986010b4b45d63a3332d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>convert_string_to_sqlsyntax_nonull</b> ($data)</td></tr>
<tr class="separator:a5964c3b4acf8986010b4b45d63a3332d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac54484db51d3b72c0fc8e44511ac7698"><td class="memItemLeft" align="right" valign="top"><a id="ac54484db51d3b72c0fc8e44511ac7698" name="ac54484db51d3b72c0fc8e44511ac7698"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>convert_string_to_sqlsyntax_notrim_nonull</b> ($data)</td></tr>
<tr class="separator:ac54484db51d3b72c0fc8e44511ac7698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae019ee5be4745d0796274c2def069167"><td class="memItemLeft" align="right" valign="top"><a id="ae019ee5be4745d0796274c2def069167" name="ae019ee5be4745d0796274c2def069167"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>convert_regexp_to_sqlsyntax</b> ($input)</td></tr>
<tr class="separator:ae019ee5be4745d0796274c2def069167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02d40918dc384387272eb42f065925c6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#a02d40918dc384387272eb42f065925c6">validateLang</a> ($currentlang)</td></tr>
<tr class="separator:a02d40918dc384387272eb42f065925c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79bc2cd98f888142e3e9ccc0c0b5f7c0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#a79bc2cd98f888142e3e9ccc0c0b5f7c0">validateText</a> ($currenttext)</td></tr>
<tr class="separator:a79bc2cd98f888142e3e9ccc0c0b5f7c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdfca0de971e106abbdbaaf952a781e9"><td class="memItemLeft" align="right" valign="top"><a id="acdfca0de971e106abbdbaaf952a781e9" name="acdfca0de971e106abbdbaaf952a781e9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>validateTag</b> ($currenttag, $currentlang)</td></tr>
<tr class="separator:acdfca0de971e106abbdbaaf952a781e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5ba1c5c564024e485ea5ace9f7bac7b"><td class="memItemLeft" align="right" valign="top"><a id="ab5ba1c5c564024e485ea5ace9f7bac7b" name="ab5ba1c5c564024e485ea5ace9f7bac7b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>validateArchTextTag</b> ($currenttag, $currentlang)</td></tr>
<tr class="separator:ab5ba1c5c564024e485ea5ace9f7bac7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7369508bc6d965898b72ca1d2f5191d6"><td class="memItemLeft" align="right" valign="top"><a id="a7369508bc6d965898b72ca1d2f5191d6" name="a7369508bc6d965898b72ca1d2f5191d6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>validateTextTag</b> ($currenttag, $currentlang)</td></tr>
<tr class="separator:a7369508bc6d965898b72ca1d2f5191d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82fee5176b0545d49bc70c1eb5b5f97a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#a82fee5176b0545d49bc70c1eb5b5f97a">getSettingZeroOrOne</a> ($key, $dft)</td></tr>
<tr class="separator:a82fee5176b0545d49bc70c1eb5b5f97a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81cd47da0bcdaa2bf17382266982720b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#a81cd47da0bcdaa2bf17382266982720b">getSetting</a> ($key)</td></tr>
<tr class="separator:a81cd47da0bcdaa2bf17382266982720b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a272e6920bd0ac3690730a62edebae42d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#a272e6920bd0ac3690730a62edebae42d">getSettingWithDefault</a> ($key)</td></tr>
<tr class="separator:a272e6920bd0ac3690730a62edebae42d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6272227f0921cd92ea2cc8398771df0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#af6272227f0921cd92ea2cc8398771df0">saveSetting</a> ($k, $v)</td></tr>
<tr class="separator:af6272227f0921cd92ea2cc8398771df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa238ca54e7fb04ab59f8e19e90b8d64f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#aa238ca54e7fb04ab59f8e19e90b8d64f">LWTTableCheck</a> ()</td></tr>
<tr class="separator:aa238ca54e7fb04ab59f8e19e90b8d64f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a386c1713ba4359db480d7cfd366aecee"><td class="memItemLeft" align="right" valign="top"><a id="a386c1713ba4359db480d7cfd366aecee" name="a386c1713ba4359db480d7cfd366aecee"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>LWTTableSet</b> ($key, $val)</td></tr>
<tr class="separator:a386c1713ba4359db480d7cfd366aecee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb08ac2b92428b8982c6e429cdb0212"><td class="memItemLeft" align="right" valign="top"><a id="abeb08ac2b92428b8982c6e429cdb0212" name="abeb08ac2b92428b8982c6e429cdb0212"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>LWTTableGet</b> ($key)</td></tr>
<tr class="separator:abeb08ac2b92428b8982c6e429cdb0212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a553441f4fbb4aef5ad113142d5998bae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#a553441f4fbb4aef5ad113142d5998bae">adjust_autoincr</a> ($table, $key)</td></tr>
<tr class="separator:a553441f4fbb4aef5ad113142d5998bae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ac89d832d3a95c00b38bad4b46bbe19"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#a8ac89d832d3a95c00b38bad4b46bbe19">optimizedb</a> ()</td></tr>
<tr class="separator:a8ac89d832d3a95c00b38bad4b46bbe19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82d62f0d7510fc4454deb4ed0f16e9a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#a82d62f0d7510fc4454deb4ed0f16e9a9">set_word_count</a> ()</td></tr>
<tr class="separator:a82d62f0d7510fc4454deb4ed0f16e9a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e8e1270bdf2caa528fee2b393c919c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#a46e8e1270bdf2caa528fee2b393c919c">splitCheckText</a> ($text, $lid, $id)</td></tr>
<tr class="separator:a46e8e1270bdf2caa528fee2b393c919c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac536fa1c9af67239c031c2fbebd2ddef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#ac536fa1c9af67239c031c2fbebd2ddef">reparse_all_texts</a> ()</td></tr>
<tr class="separator:ac536fa1c9af67239c031c2fbebd2ddef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a960bf3f2e9821f403140330ac38c27de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#a960bf3f2e9821f403140330ac38c27de">check_update_db</a> ($debug, $tbpref, $dbname)</td></tr>
<tr class="separator:a960bf3f2e9821f403140330ac38c27de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e362f15877268f0dcff6be0c499f493"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#a6e362f15877268f0dcff6be0c499f493">connect_to_database</a> ($server, $userid, $passwd, $dbname)</td></tr>
<tr class="separator:a6e362f15877268f0dcff6be0c499f493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f4a496e6b66c98af300e5e9005eedb7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="database__connect_8php.html#a1f4a496e6b66c98af300e5e9005eedb7">get_database_prefixes</a> (&amp;$tbpref)</td></tr>
<tr class="separator:a1f4a496e6b66c98af300e5e9005eedb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aedd29c2deb429fa1573e5772a0596155"><td class="memItemLeft" align="right" valign="top"><a id="aedd29c2deb429fa1573e5772a0596155" name="aedd29c2deb429fa1573e5772a0596155"></a>
if(!empty($dspltime))&#160;</td><td class="memItemRight" valign="bottom"><b>$DBCONNECTION</b> = <a class="el" href="database__connect_8php.html#a6e362f15877268f0dcff6be0c499f493">connect_to_database</a>($server, $userid, $passwd, $dbname)</td></tr>
<tr class="separator:aedd29c2deb429fa1573e5772a0596155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2071c730b3755cc900bc31a4479bebf"><td class="memItemLeft" align="right" valign="top"><a id="ad2071c730b3755cc900bc31a4479bebf" name="ad2071c730b3755cc900bc31a4479bebf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$tbpref</b> = null</td></tr>
<tr class="separator:ad2071c730b3755cc900bc31a4479bebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Connects to the database and check its state. </p>
<dl class="section author"><dt>Author</dt><dd><a href="https://github.com/HugoFara/">https://github.com/HugoFara/</a> HugoFara </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a553441f4fbb4aef5ad113142d5998bae" name="a553441f4fbb4aef5ad113142d5998bae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a553441f4fbb4aef5ad113142d5998bae">&#9670;&nbsp;</a></span>adjust_autoincr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">adjust_autoincr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Adjust the auto-incrementation in the database.</p>
<p >@global string $tbpref Database table prefix </p>

</div>
</div>
<a id="a960bf3f2e9821f403140330ac38c27de" name="a960bf3f2e9821f403140330ac38c27de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a960bf3f2e9821f403140330ac38c27de">&#9670;&nbsp;</a></span>check_update_db()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">check_update_db </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tbpref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dbname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Check and/or update the database.</p>
<p >@global mysqli $DBCONNECTION Connection to the database </p>
<p >counter for cache rebuild</p>

</div>
</div>
<a id="a6e362f15877268f0dcff6be0c499f493" name="a6e362f15877268f0dcff6be0c499f493"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e362f15877268f0dcff6be0c499f493">&#9670;&nbsp;</a></span>connect_to_database()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">connect_to_database </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$passwd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dbname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Make the connection to the database.</p>
<dl class="section return"><dt>Returns</dt><dd>mysqli|false Connection to the database</dd></dl>
<p>@psalm-suppress UndefinedDocblockClass </p>

</div>
</div>
<a id="af092366f1596cc99b3552185b173a53d" name="af092366f1596cc99b3552185b173a53d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af092366f1596cc99b3552185b173a53d">&#9670;&nbsp;</a></span>do_mysqli_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">do_mysqli_query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sql</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Do a SQL query to the database. It is a wrapper for mysqli_query function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>Query using SQL syntax</td></tr>
  </table>
  </dd>
</dl>
<p>@global mysqli $DBCONNECTION COnnection to the database</p>
<dl class="section return"><dt>Returns</dt><dd>mysqli_result|true </dd></dl>

</div>
</div>
<a id="a1f4a496e6b66c98af300e5e9005eedb7" name="a1f4a496e6b66c98af300e5e9005eedb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f4a496e6b66c98af300e5e9005eedb7">&#9670;&nbsp;</a></span>get_database_prefixes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_database_prefixes </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$tbpref</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get the prefixes for the database.</p>
<p >Is $tbpref set in <a class="el" href="connect_8inc_8php.html" title="Your own DB variables.">connect.inc.php</a>? Take it and $fixed_tbpref=1. If not: $fixed_tbpref=0. Is it set in table "_lwtgeneral"? Take it. If not: Use $tbpref = '' (no prefix, old/standard behaviour).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;null</td><td class="paramname">$tbpref</td><td>Temporary database table prefix</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0|1 Table Prefix is fixed, no changes possible </dd></dl>

</div>
</div>
<a id="a9c4a52b3d9b10360dce64ad0464bfad5" name="a9c4a52b3d9b10360dce64ad0464bfad5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c4a52b3d9b10360dce64ad0464bfad5">&#9670;&nbsp;</a></span>get_first_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_first_value </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sql</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Return the record "value" in the first line of the database if found.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>MySQL query</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string|null </dd></dl>

</div>
</div>
<a id="a81cd47da0bcdaa2bf17382266982720b" name="a81cd47da0bcdaa2bf17382266982720b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81cd47da0bcdaa2bf17382266982720b">&#9670;&nbsp;</a></span>getSetting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getSetting </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get a setting from the database. It can also check for its validity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Setting key. If $key is 'currentlanguage' or 'currenttext', we validate language/text. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string $val Value in the database if found, or an empty string @global string $tbpref Table name prefix </dd></dl>

</div>
</div>
<a id="a272e6920bd0ac3690730a62edebae42d" name="a272e6920bd0ac3690730a62edebae42d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a272e6920bd0ac3690730a62edebae42d">&#9670;&nbsp;</a></span>getSettingWithDefault()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getSettingWithDefault </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get the settings value for a specific key. Return a default value when possible</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Settings key</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Requested setting, or default value, or ''</dd></dl>
<p>@global string $tbpref Table name prefix </p>

</div>
</div>
<a id="a82fee5176b0545d49bc70c1eb5b5f97a" name="a82fee5176b0545d49bc70c1eb5b5f97a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82fee5176b0545d49bc70c1eb5b5f97a">&#9670;&nbsp;</a></span>getSettingZeroOrOne()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getSettingZeroOrOne </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dft</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Convert a setting to 0 or 1</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>The input value </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;int</td><td class="paramname">$dft</td><td>Default value to use, should be convertible to string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<p>@psalm-return 0|1 </p>

</div>
</div>
<a id="aa238ca54e7fb04ab59f8e19e90b8d64f" name="aa238ca54e7fb04ab59f8e19e90b8d64f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa238ca54e7fb04ab59f8e19e90b8d64f">&#9670;&nbsp;</a></span>LWTTableCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LWTTableCheck </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Check if the _lwtgeneral table exists, create it if not. </p>

</div>
</div>
<a id="a8ac89d832d3a95c00b38bad4b46bbe19" name="a8ac89d832d3a95c00b38bad4b46bbe19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ac89d832d3a95c00b38bad4b46bbe19">&#9670;&nbsp;</a></span>optimizedb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">optimizedb </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Optimize the database.</p>
<p >@global string $trbpref Table prefix </p>

</div>
</div>
<a id="ac536fa1c9af67239c031c2fbebd2ddef" name="ac536fa1c9af67239c031c2fbebd2ddef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac536fa1c9af67239c031c2fbebd2ddef">&#9670;&nbsp;</a></span>reparse_all_texts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">reparse_all_texts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Reparse all texts in order.</p>
<p >@global string $tbpref Database table prefix </p>

</div>
</div>
<a id="acba5ba1657b74c879fc17dd6f13c6bce" name="acba5ba1657b74c879fc17dd6f13c6bce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acba5ba1657b74c879fc17dd6f13c6bce">&#9670;&nbsp;</a></span>runsql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">runsql </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sqlerrdie</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Run a SQL query, you can specify its behavior and error message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>MySQL query </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$m</td><td>Success phrase to prepend to the number of affected rows </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$sqlerrdie</td><td>To die on errors (default = TRUE)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Error message if failure, or the number of affected rows </dd></dl>

</div>
</div>
<a id="af6272227f0921cd92ea2cc8398771df0" name="af6272227f0921cd92ea2cc8398771df0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6272227f0921cd92ea2cc8398771df0">&#9670;&nbsp;</a></span>saveSetting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">saveSetting </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Save the setting identified by a key with a specific value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$k</td><td>Setting key </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$v</td><td>Setting value, will get converted to string</td></tr>
  </table>
  </dd>
</dl>
<p>@global string $tbpref Table name prefix</p>
<dl class="section return"><dt>Returns</dt><dd>string Error or success message </dd></dl>

</div>
</div>
<a id="a82d62f0d7510fc4454deb4ed0f16e9a9" name="a82d62f0d7510fc4454deb4ed0f16e9a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82d62f0d7510fc4454deb4ed0f16e9a9">&#9670;&nbsp;</a></span>set_word_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">set_word_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@global string $tbpref Database table prefix </p>

</div>
</div>
<a id="a46e8e1270bdf2caa528fee2b393c919c" name="a46e8e1270bdf2caa528fee2b393c919c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46e8e1270bdf2caa528fee2b393c919c">&#9670;&nbsp;</a></span>splitCheckText()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">splitCheckText </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$lid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Parse the input text.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>Text to parse </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$lid</td><td>Language ID (LgID from languages table) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$id</td><td>References whether the text is new to the database $id = -1 =&gt; Check, return protocol $id = -2 =&gt; Only return sentence array $id = TextID =&gt; Split: insert sentences/textitems entries in DB</td></tr>
  </table>
  </dd>
</dl>
<p>@global string $tbpref Database table prefix</p>
<dl class="section return"><dt>Returns</dt><dd>null|string[]</dd></dl>
<p>@psalm-return non-empty-list&lt;string&gt;|null </p>

</div>
</div>
<a id="a02d40918dc384387272eb42f065925c6" name="a02d40918dc384387272eb42f065925c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02d40918dc384387272eb42f065925c6">&#9670;&nbsp;</a></span>validateLang()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">validateLang </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$currentlang</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Validate a language ID</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$currentlang</td><td>Language ID to validate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string '' if the language is not valid, $currentlang otherwise</dd></dl>
<p>@global string $tbpref Table name prefix </p>

</div>
</div>
<a id="a79bc2cd98f888142e3e9ccc0c0b5f7c0" name="a79bc2cd98f888142e3e9ccc0c0b5f7c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79bc2cd98f888142e3e9ccc0c0b5f7c0">&#9670;&nbsp;</a></span>validateText()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">validateText </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$currenttext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Validate a text ID</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$currenttext</td><td>Text ID to validate</td></tr>
  </table>
  </dd>
</dl>
<p>@global string '' if the text is not valid, $currenttext otherwise</p>
<p >@global string $tbpref Table name prefix </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
